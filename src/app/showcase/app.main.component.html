<div class="layout-wrapper {{config.dark ? 'layout-wrapper-dark' : 'layout-wrapper-light'}}">
    <app-topbar (menuButtonClick)="onMenuButtonClick()"></app-topbar>
    <app-config></app-config>
    <app-menu [active]="menuActive"></app-menu>
    <div class="layout-mask" [ngClass]="{'layout-mask-active': menuActive}" (click)="onMaskClick()"></div>
    
    <div class="layout-content">
        <div class="layout-content-inner h-full">
            <div class="toolbar" [style.position]="(stickyHeader$ | async) ? 'fixed' : 'inherit'" [class.mat-elevation-z4]="(stickyHeader$ | async)">
                <mat-toolbar color="primary">
                    <!-- <button mat-icon-button class="d-md-none" (click)="sidenav.open()">
                        <fa-icon icon="bars"></fa-icon>
                    </button> -->
                    <span class="d-none d-md-inline">
                        <button mat-button class="nav-button" *ngFor="let item of navigation" [routerLink]="[item.link]" routerLinkActive="active">
                            {{item.label | translate}}
                        </button>
                    </span>
        
                    <button mat-button mat-stroked-button color="accent" *ngIf="!(stateService.appSettingsSubject | async)?.uid" (click)="openLoginDialog()">
                        {{ 'app.menu.login' | translate }}
                    </button>
        
                    <button *ngIf="(stateService.appSettingsSubject | async)?.uid" mat-icon-button [matMenuTriggerFor]="toolbarUserMenu">
                        <!-- <fa-icon icon="user-circle"></fa-icon> -->
                    </button>
        
                    <button mat-icon-button (click)="openSettingsDialog()" class="d-sm-inline">
                        <!-- <fa-icon icon="bars"></fa-icon> -->
                        Settings
                    </button>
        
                    <mat-menu #toolbarUserMenu="matMenu">
                        <button mat-menu-item (click)="onLogoutClick()">
                            <mat-icon>
                                logout
                                <!-- <fa-icon icon="power-off"></fa-icon> -->
                            </mat-icon>
                            <span>{{ 'app.menu.logout' | translate }}</span>
                        </button>
                    </mat-menu>
        
                    <span *ngIf="language$ | async as language">
                        <mat-select [ngModel]="language" (selectionChange)="onLanguageSelect($event)">
                            <mat-option *ngFor="let l of languages" [value]="l">
                                {{ l.toUpperCase() }}
                            </mat-option>
                        </mat-select>
                    </span>
                </mat-toolbar>
            </div>
            <router-outlet></router-outlet>
        </div>
        <app-footer></app-footer>
    </div>
</div>
